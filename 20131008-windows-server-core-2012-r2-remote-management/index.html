<!DOCTYPE html>
<html dir='ltr' lang='en' xmlns:fb='http://ogp.me/ns/fb#'>
<head>
<link href="../stylesheets/syntax_highlighting.css?1439193430" media="screen" rel="stylesheet" type="text/css" />
<meta charset='utf-8'>
<meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
<meta content='text/html;' http-equiv='content-type'>
<title>Windows Server Core 2012 R2 Remote Management
 | Novosco Tech Blog</title>
<meta content='index,follow' name='robots'>
<meta content='initial-scale=1.0 maximum-scale=1.0 user-scalable=no' name='viewport'>
<meta content='width=380, maximum-scale=1.0' name='viewport'>
<link href='/favicon.ico' rel='shortcut icon' type='image/x-icon'>
<link href='../images/touch-icon-iphone.png' rel='apple-touch-icon'>
<link href='../images/touch-icon-ipad.png' rel='apple-touch-icon' sizes='72x72'>
<link href='../images/touch-icon-iphone-retina.png' rel='apple-touch-icon' sizes='114x114'>
<link href='../images/touch-icon-ipad-retina.png' rel='apple-touch-icon' sizes='144x144'>
<!--[if lt IE 9]> <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script> <![endif]-->
<link href="../stylesheets/all.css?1439193430" media="screen" rel="stylesheet" type="text/css" />
<!-- OG -->
<meta content='Novosco Tech Blog' property='og:title'>
<meta content='website' property='og:type'>
<meta content='../images/novosco-og-icon.png' property='og:image'>
<meta content='http://engineering.novosco.com' property='og:url'>
<meta content='Novosco Tech Blog ' property='og:description'>
<!-- Twitter -->
<meta content='summary' name='twitter:card'>
<meta content='http://engineering.novosco.com' name='twitter:url'>
<meta content='Novosco Tech Blog' name='twitter:title'>
<meta content='Novosco Tech Blog ' name='twitter:description'>
<meta content='../images/novosco-og-icon.png' name='twitter:image'>
<meta content='@novoscoeng' name='twitter:site'>
<meta content='@novosco' name='twitter:creator'>
<meta content='' name='author'>
<!-- Typekit -->
<script src="//use.typekit.net/tjm4emr.js" type="text/javascript"></script>
<script>
  try{Typekit.load();}catch(e){};
  
  window.onload = function() {
    var menu = document.getElementById('menu-button');
    var menu_items = document.getElementById('menu-items');
  
    function toggleMenu(){
      if (menu_items.style.display == "block") {
        menu_items.style.display = 'none';
      } else {
        menu_items.style.display = 'block';
      }
    };
  
    menu.addEventListener('click', function() {
      toggleMenu()
    }, false);
  };
</script>

</head>
<body class='20131008-windows-server-core-2012-r2-remote-management 20131008-windows-server-core-2012-r2-remote-management_index'>
<header>
<div class='layout-wrapper'>
<div class='layout-inner'>
<a href="/"><span class='logo'>Novosco Tech Blog</span></a>
<div class='header-nav'>
<nav>
<a href='#' id='menu-button'>
MENU
<img src='/images/menu-triangle.png' width='11px'>
</a>
<ul id='menu-items'>
<li>
<a href="http://www.novosco.com/">Home</a>
</li>
<li>
<a class="active" href="http://cio.novosco.com/">CIO Blog</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
</header>

<div class='container'>
<div id='post-main'>
<article class='post-header'>
<h1 class='article-header'>
<a href="/20131008-windows-server-core-2012-r2-remote-management/">Windows Server Core 2012 R2 Remote Management</a>
</h1>
<div class='post-meta'>
<div class='post-avatar'>
<img src="../images/avatars/alan-mcburney.jpg?1439193430" />
</div>
<div class='post-meta-text'>
<span>By <a href="/alan-mcburney">Alan McBurney</a> on</span>
<time> 8 October 2013</time>
</div>
</div>

<div class='body'>
<p>In my last blog post I added certificate services to a server core installation.</p>

<p>Well as it turns out after some more hands on with server core I did it the hard way as Server 2012 brings with it a new level of remote or headlesss management.</p>

<p>When I first got this up and running I was pretty blown away by the experience.</p>

<p>What I’m going to walk though in this blog post are the configuration steps that are required in order to get remote management of the server core installation up and running via a dedicated management server.</p>

<p></p>

<p>In this lab I have 2 Windows 2012 R2 Servers</p>

<ul>
<li>1 Server Core</li>
<li>1 GUI</li>
</ul>

<p>I’m not going to include the steps that are required in order to get the VM’s installed.<br>
I’m going to pick this up from the point that the installation is complete.</p>

<p>Once Server Core has been installed and you have created your admin password and logged in. The first thing to do is fire up SConfig in order to set:</p>

<ul>
<li>Server Name</li>
<li>IP Address\Subnet Mask</li>
<li>DNS Servers</li>
<li>Remote Desktop</li>
</ul>

<p><a href="http://everythingsysadmin.files.wordpress.com/2013/10/11.png"> <img title="1" alt="1" src="http://everythingsysadmin.files.wordpress.com/2013/10/1_thumb.png?w=244&h=127" /> </a></p>

<p>Running *<em><em>sconfig</em> *</em>from the command prompt brings up the screen as below and allows basic server setup options to be configured</p>

<p><a href="http://everythingsysadmin.files.wordpress.com/2013/10/21.png"> <img title="2" alt="2" src="http://everythingsysadmin.files.wordpress.com/2013/10/2_thumb.png?w=244&h=126" /> </a></p>

<p>Select <strong>Option 2</strong> and enter a computer name for the server. This requires a reboot once complete</p>

<p>Once the server comes backup and your logged back in run <strong>sconfig</strong> again and this time choose <strong>option 8</strong> in order to set the IP Adresss, Subnet mask, Default Gateway and DNS Servers</p>

<p>Once complete that’s about all that needs done on the server core installation.</p>

<p>We can now switch over to the Management Server.</p>

<p>Configure this server up in the normal way, setting:</p>

<ul>
<li>IP Address\Subnet Mask</li>
<li>Default Gateway</li>
<li>DNS Server</li>
<li>Server Name</li>
</ul>

<p>Reboot the server and get logged back in.</p>

<p>As we are still to configure a domain we are effectively in a workgroup.<br>
And as there is no domain there is no DNS for name resolution.</p>

<p>To work around these issues there are few steps that need to be taken.</p>

<ol>
<li>Add a host file entry for the DC on th emanagement server</li>
<li>Add the would be Domain Controller to the trusted hosts file on the management server</li>
</ol>

<p>Lets go ahead and take care of the easy task of assining the Domain Controller ServerName to the management servers host file</p>

<p>Open Notepad as administrator and then open:</p>

<p>C:\Windows\System32\drivers\etc\hosts</p>

<p>Add an entry for the domain controller similar to that below</p>

<p><a href="http://everythingsysadmin.files.wordpress.com/2013/10/31.png"> <img title="3" alt="3" src="http://everythingsysadmin.files.wordpress.com/2013/10/3_thumb.png?w=244&h=180" /> </a></p>

<p>Close the file and test name resolution via ping.<br>
We won’t get a ping response due to the Firewall on Quarkalbs-DC01 but thats not the point. The point here is to test name resolution.</p>

<p><a href="http://everythingsysadmin.files.wordpress.com/2013/10/41.png"> <img title="4" alt="4" src="http://everythingsysadmin.files.wordpress.com/2013/10/4_thumb.png?w=244&h=87" /> </a></p>

<p>Now that name resolution is functional for QuarkLabs-DC01 the next step is to add the server to the trusted hosts file on the management server</p>

<p>Open PowerShell and run the following command</p>

<p><strong>Set-Item WSMAN:\localhost\Client\TrustedHosts quarklabs-dc01 -force</strong></p>

<p><a href="http://everythingsysadmin.files.wordpress.com/2013/10/51.png"> <img title="5" alt="5" src="http://everythingsysadmin.files.wordpress.com/2013/10/5_thumb.png?w=244&h=25" /> </a></p>

<p>All items are now set and we can go back to the Server Manager Dashboard on the management server and add our remote server</p>

<p>From Server Manager choose** Add other server to manage**</p>

<p><a href="http://everythingsysadmin.files.wordpress.com/2013/10/61.png"> <img title="6" alt="6" src="http://everythingsysadmin.files.wordpress.com/2013/10/6_thumb.png?w=244&h=130" /> </a></p>

<p>Select <strong>DNS</strong> and add the remote server</p>

<p><a href="http://everythingsysadmin.files.wordpress.com/2013/10/71.png"> <img title="7" alt="7" src="http://everythingsysadmin.files.wordpress.com/2013/10/7_thumb.png?w=244&h=186" /> </a></p>

<p>Click OK and wait for a moment while the remote server is added.</p>

<p>The server count should have increased from the dashboard</p>

<p><a href="http://everythingsysadmin.files.wordpress.com/2013/10/81.png"> <img title="8" alt="8" src="http://everythingsysadmin.files.wordpress.com/2013/10/8_thumb.png?w=244&h=103" /> </a></p>

<p>Open <strong>All Servers</strong> and be sure that the recently added server is now present</p>

<p><a href="http://everythingsysadmin.files.wordpress.com/2013/10/9.png"> <img title="9" alt="9" src="http://everythingsysadmin.files.wordpress.com/2013/10/9_thumb.png?w=244&h=46" /> </a></p>

<p>The server can now be managed via the management server like any normal server.</p>

<p>That wraps it up for this post. In the next post I’ll configure and promote the server to be a domain controller all via the management server.</p>

<p>.</p>

<p><a href="http://feeds.wordpress.com/1.0/gocomments/everythingsysadmin.wordpress.com/621/"> <img src="http://feeds.wordpress.com/1.0/comments/everythingsysadmin.wordpress.com/621/" /> </a> <img src="http://stats.wordpress.com/b.gif?host=everythingsysadmin.wordpress.com&blog=8998607&post=621&subd=everythingsysadmin&ref=&feed=1" /></p>

<div class='tags'>
<ol>
<li><a class="tag" href="/active-directory/">Active Directory</a></li>
</ol>
</div>
<section class='post-footer'>
<h1 class='small-h1 post-author-header'>
<div class='post-author clearfix'>
<div class='author-avatar'>
<img src="../images/avatars/alan-mcburney.jpg?1439193430" />
</div>
<div class='post-author-details'>
<h1><a href="/alan-mcburney">Alan McBurney</a></h1>
<span class='bio'>Solutions Architect @Novosco. Passionate about technology, delivering Microsoft centric solutions with emphasis on Lync, Exchange, PowerShell and Infrastructure.</span>
<span class='author-posts-link'>
<a href="/alan-mcburney">View Alan's other posts</a>
</span>
</div>
</div>
</h1>
</section>
<div class='post-nav'>
<div class='previous-post'>
<a href="/20130912-storefront-20/">← Previous</a>
</div>
<div class='next-post'>
<a href="/20131011-brian-madden-talks-about-vdi/">Next →</a>
</div>
</div>
</div>
</article>
</div>
</div>
<footer>
<section class='newsletter'>
<div class='layout-wrapper' id='mc-signup'>
<div class='layout-inner'>
<form action='http://novosco.us7.list-manage1.com/subscribe/post?u=9bff1bb397f0ed0fda92caa1a&amp;id=b15b8e54dd' class='validate' id='mc-subscribe-form' method='post' name='mc-embedded-subscribe-form' novalidate='' target='_blank'>
<div class='form-inputs'>
<label for='mc-email'>
<div class='newsletter-title'>
Subscribe to our mailing list
</div>
<input id='mc-email' name='EMAIL' placeholder='Enter your email address…' required='' type='email' value=''>
</label>
</div>
<div class='form-action newsletter-button'>
<input class='button' name='subscribe' type='submit' value='Subscribe'>
</div>
</form>
</div>
</div>
</section>
<section class='footer-info clearfix'>
<div class='layout-wrapper'>
<div class='layout-inner'>
<span class='about-novosco'>
<strong>Novosco</strong>
is a leading provider of Cloud Technologies, Managed Service and Consulting.
</span>
<span class='copyright'>
© 2007-2015 Novosco Ltd
</span>
</div>
</div>
</section>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
  ga('create', 'UA-44792610-1', 'novosco.com');
  ga('send', 'pageview');
</script>

</body>
</html>
